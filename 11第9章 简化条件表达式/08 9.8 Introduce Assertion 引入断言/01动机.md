# 动机

<br>

常常会有这样一段代码：只有当某个条件为真时，该段代码才能正常运行。

例如平方根计算只对正值才能进行，又例如某个对象可能假设其字段至少有一个不等于`null`。

<br>

这样的假设通常并没有在代码中明确表现出来，你必须阅读整个算法才能看出。

有时程序员会以注释写出这样的假设。

而我要介绍的是一种更好的技术：使用断言明确标明这些假设。

<br>

断言是一个条件表达式，应该总是为真。

如果它失败，表示程序员犯了错误。

因此断言的失败应该导致一个非受控异常`(unchecked exception)`。

断言绝对不能被系统的其他部分使用。

实际上，程序最后的成品往往将断言统统删除。

因此，标记“某些东西是个断言”是很重要的。

<br>

断言可以作为交流与调试的辅助。

在交流的角度上，断言可以帮助程序阅读者理解代码所做的假设；

在调试的角度上，断言可以在距离`bug`最近的地方抓住它们。

当我编写自我测试代码的时候发现，断言在调试方面的帮助变得不那么重要了，但我仍然非常看重它们在交流方面的价值。

<br>

