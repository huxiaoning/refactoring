# 动机

<br>

根据我的经验，条件表达式通常有两种表现形式。

第一种形式是：所有分支都属于正常行为。

第二种形式则是：条件表达式提供的答案中只有一种是正常行为，其他都是不常见的情况。

<br>

这两类条件表达式有不同的用途，这一点应该通过代码表现出来。

如果两条分支都是正常行为，就应该使用形如`if...else...`的条件表达式；

如果某个条件极其罕见，就应该单独检查该条件，并在该条件为真时立刻从函数中返回。

这样的单独检查常常被称为“**卫语句**” `(guard clauses) [Beck]`。

<br>

`Replace Nested Conditional with Guard Clauses (250)`的精髓就是:给某一条分支以特别的重视。

如果使用`if-then-else`结构，你对`if`分支和`else`分支的重视是同等的。

这样的代码结构传递给阅读者的消息就是：各个分支有同样的重要性。

卫语句就不同了，它告诉阅读者： “这种情况很罕见，如果它真地发生了，请做一些必要的整理工作，然后退出。”

<br>

“每个函数只能有一个入口和一个出口”的观念，根深蒂固于某些程序员的脑海里。

我发现，当我处理他们编写的代码时，经常需要使用`Replace Nested Conditional with Guard Clauses (250)`，

现今的编程语言都会强制保证每个函数只有一个入口，至于“单一出口”规则，其实不是那么有用。

在我看来，保持代码清晰才是最关键的：如果单一出口能使这个函数更清楚易读，那么就使用单一出口；否则就不必这么做。

<br>

