# 做法

<br>

- 为原本的类新建一个空白的抽象超类。
- 运用`Pull Up Field (320)`、`Pull Up Method (322)`和`Pull Up Constructor Body (325)`逐一将子类的共同元素上移到超类。
  - 先搬移字段，通常比较简单。
  - 如果相应的子类函数有不同的签名，但用途相同，可以先使用`Rename Method (273)`将它们的签名改为相同，然后再使用`Pull Up Method (322)`。
  - 如果相应的子类函数有相同的签名，但函数本体不同，可以在超类中把它们的共同签名声明为抽象函数。
  - 如果相应的子类函数有不同的函数本体，但用途相同，可试着使用`Substitute Algorithm (139)`把其中一个函数的函数本体复制到另一个函数中。如果运转正常，你就可以使用`Pull Up Method (322)`。
- 每次上移后，编译并测试。
- 检查留在子类中的函数，看它们是否还有共通成分。如果有，可以使用`Extract Method (110)`将共通部分再提炼出来，然后使用`Pull Up Method (322)`将提炼出的函数上移到超类。如果各个子类中某个函数的整体流程很相似，你也许可以使用`Form Template Method (345)`。
- 将所有共通元素都上移到超类之后，检查子类的所有用户。如果它们只使用共同接口，你就可以把它们请求的对象类型改为超类。

<br>

