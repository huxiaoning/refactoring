# 动机

<br>

如果某个函数只是向你提供一个值，没有任何看得到的副作用，那么这是个很有价值的东西。

你可以任意调用这个函数，也可以把调用动作搬到函数的其他地方。

简而言之，需要操心的事情少多了。

<br>

明确表现出“有副作用”与“无副作用”两种函数之间的差异，是个很好的想法。

下面是一条好规则：任何有返回值的函数，都不应该有看得到的副作用。

有些程序员甚至将此作为一条必须遵守的规则`[Meyer]`。

就像对待任何东西一样，我并不绝对遵守它，不过我总是尽量遵守，而它也回报我很好的效果。

<br>

如果你遇到一个“既有返回值又有副作用”的函数，就应该试着将查询动作从修改动作中分割出来。

<br>

你也许已经注意到了：我使用“看得到的副作用”这种说法。

有一种常见的优化办法是：将查询所得结果缓存于某个字段中，这么一来后续的重复查询就可以大大加快速度。

虽然这种做法改变了对象的状态，但这一修改是察觉不到的，因为不论如何查询，你总是获得相同结果`[Meyer]`。

<br>

