# 做法

<br>

- 决定应该抛出受控`(checked)`异常还是非受控`(unchecked)`异常。
  - 如果调用者有责任在调用前检查必要状态，就抛出非受控异常。
  - 如果想抛出受控异常，你可以新建一个异常类，也可以使用现有的异常类。
- 找到该函数的所有调用者，对它们进行相应调整，让它们使用异常。
  - 如果函数抛出非受控异常，那么就调整调用者，使其在调用函数前做适当检查。每次修改后，编译并测试。
  - 如果函数抛出受控异常，那么就调整调用者，使其在try区段中调用该函数。
- 修改该函数的签名，令它反映出新用法。

如果函数有许多调用者，上述修改过程可能跨度太大。

你可以将它分成下列数个步骤。

- 决定应该抛出受控异常还是非受控异常。
- 新建一个函数，使用异常来表示错误状况，将旧函数的代码复制到新函数中，并做适当调整。
- 修改旧函数的函数本体，让它调用上述新建函数。
- 编译，测试。
- 逐一修改旧函数的调用者，令其调用新函数。每次修改后，编译并测试。
- 移除旧函数。

<br>

