# 做法

<br>

- 如果字段的访问级是`public`，使用`Encapsulate Field(206)`将它封装起来。
  - ⇒如果你有可能移动那些频繁访问该字段的函数，或如果有许多函数访问某个字段，先使用`SelfEncapsulate Field(171)`也许会有帮助。
- 编译，测试。
- 在目标类中建立与源字段相同的字段，并同时建立相应的设值/取值函数。
- 编译目标类。
- 决定如何在源对象中引用目标对象。
  - ⇒首先看是否有一个现成的字段或函数可以助你得到目标对象。如果没有，就看能否轻易建立这样一个函数。如果还不行，就得在源类中新建一个字段来存放目标对象。这可能是个永久性修改，但你也可以让它是暂时的，因为后续重构可能会把这个新建字段除掉。
- 删除源字段。
- 将所有对源字段的引用替换为对某个目标函数的调用。
  - ⇒如果需要读取该变量，就把对源字段的引用替换为对目标取值函数的调用；如果要对该变量赋值，就把对源字段的引用替换成对设值函数的调用。
  - ⇒如果源字段不是`private`的，就必须在源类的所有子类中查找源字段的引用点，并进行相应替换。
- 编译，测试。

<br>

