# 动机

<br>

开发初期，你可能会在两个类之间建立一条单向连接，使其中一个类可以引用另一个类。

随着时间推移，你可能发现被引用类需要得到其引用者以便进行某些处理。

也就是说它需要一个反向指针。

但指针是一种单向连接，你不可能反向操作它。

通常你可以绕道而行，虽然会耗费一些计算时间，成本还算合理，然后你可以在被引用类中建立一个函数专门负责此一行为。

但是，有时候想绕过这个问题并不容易，此时就需要建立双向引用关系，或称为反向指针。

如果使用不当，反向指针很容易造成混乱；

但只要你习惯了这种手法，它们其实并不是太复杂。

<br>

“反向指针”手法有点棘手，所以在你能够自如运用之前，应该有相应的测试。

通常我不花心思去测试访问函数，因为普通访问函数的风险没有高到需要测试的地步，

但本重构要求测试访问函数，所以它是极少数需要添加测试的重构手法之一。

<br>

本重构运用反向指针实现双向关联。

其他技术(例如连接对象)需要其他重构手法。

<br>

