# 动机

<br>

在以`C`为基础的编程语言中，类型码或枚举值很常见。

如果带着一个有意义的符号名，类型码的可读性还是不错的。

问题在于，符号名终究只是个别名，编译器看见的、进行类型检验的，还是背后那个数值。

任何接受类型码作为参数的函数，所期望的实际上是一个数值，无法强制使用符号名。

这会大大降低代码的可读性，从而成为`bug`之源。

<br>

如果把那样的数值换成一个类，编译器就可以对这个类进行类型检验。

只要为这个类提供工厂函数，你就可以始终保证只有合法的实例才会被创建出来，而且它们都会被传递给正确的宿主对象。

<br>

但是，在使用`Replace Type Code with Class (218)`之前，你应该先考虑类型码的其他替换方式。

只有当类型码是纯粹数据时(也就是类型码不会在``switch`语句中引起行为变化时)，你才能以类来取代它。

`Java`只能以整数作为`switch`语句的判断依据，不能使用任意类，因此那种情况下不能够以类替换类型码。

更重要的是：任何`switch`语句都应该运用`Replace Conditional with Polymorphism (255)`去掉。

为了进行那样的重构，你首先必须运用`Replace Type Code with Subclasses (223)`或`Replace Type Code with State／Strategy (227)`，把类型码处理掉。

<br>

即使一个类型码不会因其数值的不同而引起行为上的差异，宿主类中的某些行为还是有可能更适合置放于类型码类中，因此你还应该留意是否有必要使用`Move Method (142)`将一两个函数搬过去。

<br>

